<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css" >

    <title>Home Page</title>
  </head>
  <body>
  
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="/">DATA-BASE</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            
          </ul>
            <button class="btn btn-primary my-2 my-sm-0" type="button">Contact</button>
        </div>
      </nav>

      <div class="container" style="margin-top: 50px;">
        <!-- Content here -->

          <div class="container" style="width: 500px;">
            
            <div class="container">
              
              <div class="row row-cols-2">
                <div class="col"><img src='<%= nation %>'  width="100%"></div>
                <div class="col" style="margin-top: 60px;">
                  <h1><%= date %> </h1>
                  <h2><%= time %> </h2>
                </div>
              </div>

            </div>

        </div>

        <!--Table-->
        <form action="/create" method="POST">
        <input type="text" style="border-style: none; color: white; background-color: white; outline-color: white;" readonly value="<%= nation %>" name="countryid" id="countryid">
        <a href="/create"><button class="btn btn-primary offset-md-11" style="margin-bottom: 5px;">New +</button></a>
      </form>
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Birthdate</th>
              <th scope="col">Nationality</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <% if (data.length > 0){ %>
            <% data.forEach(function val(dat,i) { var d = "v" + i; toString(d)  %>  
          <tbody>
            <tr>
              <td class="index"><%= i+1 %> </td>
              <td class="name"><%= dat.name %> </td>
              <td class="bdate"><%= dat.bdate %> </td>
              <td class="nationality"><%= dat.nation %> </td>
              <td class="view"><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#<%= d %>">
                view
              </button></td>
            </tr>
          </tbody>

          <div class="modal fade" id="<%= d %>" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">View Person</h5>
                  <% if(dat.nation == "Philippine"){ %>
                    <img src="philippines.png" alt="" align="right" width="20%">
                  <% } %> 
                  <% if(dat.nation == "Egyptian"){ %>
                    <img src="egypt.png" alt="" align="right" width="20%">
                  <% } %> 
                  <% if(dat.nation == "Japanese"){ %>
                    <img src="japan.png" alt="" align="right" width="20%">
                  <% } %> 
                  <% if(dat.nation == "Canadian"){ %>
                    <img src="canada.png" alt="" align="right" width="20%">
                  <% } %> 
                  <% if(dat.nation == "Russian"){ %>
                    <img src="russia.png" alt="" align="right" width="20%">
                  <% } %> 
                </div>
                <div class="modal-body">
                  <h3><%= dat.name %> </h3>
                  <h3><%= dat.bdate %></h3>
                  <h3><%= dat.nation %></h3>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

          <% }) %> 
          <% } else { %>
              <p>No Records Found..</p>
            <% } %>  
        </table>



        </div>
      

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    -->
  </body>
</html>